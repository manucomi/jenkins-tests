import { Meta, Story } from '@storybook/addon-docs';
import { useState, useRef } from 'react';
import useOnOutsideClick from '../useOnOutsideClick';

<Meta title="Hooks/useOnOutsideClick/Demo" />

# Demo

export function DemoApp() {
    const [clickMessage, setClickMessage] = useState('');
    const elementRef = useRef(null);
    const handler = () => {
        setClickMessage('Clicked outside referenced element.');
    };
    useOnOutsideClick(elementRef, handler);
    return (
        <>
            Click outside the green box to trigger the{' '}
            <code>useOnOutsideClick</code> hook.
            <hr />
            <div
                ref={elementRef}
                style={{
                    width: '200px',
                    height: '200px',
                    textAlign: 'center',
                    border: '3px solid green',
                }}
            >
                Referenced Element
                <br />
                <button
                    style={{ marginTop: '150px' }}
                    type="button"
                    onClick={() => setClickMessage('')}
                >
                    Reset
                </button>
            </div>
            <p>{clickMessage}</p>
        </>
    );
}

export function Template() {
    return <DemoApp />;
}

<Story name="Demo">{Template.bind({})}</Story>
