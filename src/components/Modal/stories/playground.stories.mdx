import { Meta, Story } from '@storybook/addon-docs';
import { useState } from 'react';
import classNames from 'classnames';
import Modal from 'Components/Modal/Modal';
import styles from './stories.module.scss';

# Playground

Change the controls as you wish, to see how the component behaves.

<Meta title="Components/Modal" component={Modal} />

export function Template(args) {
    const [isModalOpen, setIsModalOpen] = useState(false);
    const buttonClasses = classNames({
        [styles.btn]: true,
        [styles.text]: true,
    });
    const {
        children,
        label,
        backdropClassName,
        modalClassName,
        isFocusTrapped,
        isCentered,
        container,
    } = args;
    return (
        <div style={{ height: '500px' }}>
            <button
                type="button"
                onClick={() => setIsModalOpen(true)}
                className={buttonClasses}
            >
                Click to open Modal
            </button>
            {isModalOpen && (
                <Modal
                    label={label}
                    onClose={() => setIsModalOpen(false)}
                    backdropClassName={backdropClassName}
                    modalClassName={modalClassName}
                    isFocusTrapped={isFocusTrapped}
                    isCentered={isCentered}
                    container={container}
                >
                    {!children && (
                        <>
                            <button
                                type="button"
                                className={styles['btn-close']}
                                onClick={() => setIsModalOpen(false)}
                            >
                                X
                            </button>
                            <h3>Modal</h3>
                            <p className={styles.text}>
                                Type `Esc` or click outside the modal to close.
                            </p>
                        </>
                    )}
                </Modal>
            )}
        </div>
    );
}

<Story
    name="Playground"
    args={{
        children: null,
        label: 'Welcome Dialog',
        backdropClassName: '',
        modalClassName: styles.modal,
        isFocusTrapped: false,
        isCentered: true,
        container: 'div#root',
    }}
>
    {Template.bind({})}
</Story>
