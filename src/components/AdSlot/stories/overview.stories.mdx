import { Meta } from '@storybook/addon-docs';
import AdSlot from 'Components/AdSlot/AdSlot';
import PropsTable from '../../../../story-helpers/PropsTableHelper.mdx';

<Meta title="Components/AdSlot/Overview" component={AdSlot} />

# AdSlot

The `Adslot` component renders a given ad in a container. Ads are
rendered using Google Ad Manager via Google Publish Tag library.
This component expects that a Googletag is present in the document
head.

`Google Publisher Tag (GPT)` is an ad tag library that allows publishers
to define inventory, initiate and bundle ad requests, and render matching demand.
The `Adslot` component requires the script to be loaded in order to function correctly.

## Props

export const propsList = [
    {
        name: 'size',
        type: 'matrix',
        description:
            'Array of pairs referencing the width and height that the ad can take.',
    },
    {
        name: 'path',
        type: 'string',
        description: 'The ad unit path to render.',
    },
    {
        name: 'targets',
        type: 'object',
        defaultValue: 'EMPTY',
        description: 'Key-value map used to set ad targeting.',
    },
    {
        name: 'onSlotRender',
        type: 'function',
        defaultValue: 'null',
        description:
            'Function handler that runs when the Google API renders the ad into the document. This is <b>not</b> a lifecycle handler for the component itself.',
    },
    {
        name: 'className',
        type: 'string',
        defaultValue: 'EMPTY',
        description: 'Extends the styles applied to the component.',
    },
];

<PropsTable propsList={propsList} />

## Loading GPT script example

Load the GPT library by adding the following to the `<head>` of the HTML document.

```html
<script src="//www.googletagservices.com/tag/js/gpt.js" async="async" />
```

## Use example

```jsx
import AdSlot from 'mfe-core/ui/AdSlot';

const adTargets = useMemo(() => ({ position: '1', inventory: 'ATF' }), []);
const adSizes = useMemo(
    () => [
        [970, 90],
        [728, 90],
    ],
    []
);

return (
    <AdSlot
        className={styles['ad-slot']}
        path="/34363400/HBR_970x90"
        size={adSizes}
        targets={adTargets}
        onSlotRender={(event) => console.log(event)}
    />
);
```
